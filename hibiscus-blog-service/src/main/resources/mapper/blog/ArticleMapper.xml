<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="gold.hibiscus.blog.infrastructure.persistence.mybatis.mapper.blog.ArticleMapper">
    <resultMap id="articleMap" type="gold.hibiscus.blog.domain.blog.Article">
        <id column="id" property="id"/>
        <result column="title" property="title"/>
        <result column="summary" property="summary"/>
        <result column="author_id" property="authorId"/>
        <result column="content_id" property="contentId"/>
        <result column="category_id" property="categoryId"/>
        <result column="comment_count" property="commentCount"/>
        <result column="view_count" property="viewCount"/>
        <result column="digg_count" property="diggCount"/>
        <result column="is_pinned" property="isPinned"/>
        <result column="create_date" property="createDate"/>
        <result column="update_date" property="updateDate"/>
    </resultMap>
    <select id="queryArticleList" resultMap="articleMap">
        SELECT id,
               title,
               summary,
               author_id,
               content_id,
               category_id,
               comment_count,
               view_count,
               digg_count,
               is_pinned,
               create_date,
               update_date
        FROM article
    </select>
    <select id="queryArticleById" resultMap="articleMap">
        SELECT id,
               title,
               summary,
               author_id,
               content_id,
               category_id,
               comment_count,
               view_count,
               digg_count,
               is_pinned,
               create_date,
               update_date
        FROM article
        WHERE id = #{id}
    </select>
    <select id="queryHotArticleList" resultMap="articleMap">
        SELECT id,
               title,
               summary,
               author_id,
               content_id,
               category_id,
               comment_count,
               view_count,
               digg_count,
               is_pinned,
               create_date,
               update_date
        FROM article
        ORDER BY view_count DESC limit #{limit}
    </select>
    <select id="queryNewArticleList" resultMap="articleMap">
        SELECT id,
               title,
               summary,
               author_id,
               content_id,
               category_id,
               comment_count,
               view_count,
               digg_count,
               is_pinned,
               create_date,
               update_date
        FROM article
        ORDER BY create_date DESC limit #{limit}
    </select>
</mapper>